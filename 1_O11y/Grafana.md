# Grafana Notes

----------

Costa Rica

Belinda Brown, belindabrownr04@gmail.com

[![GitHub](https://img.shields.io/badge/--181717?logo=github&logoColor=ffffff)](https://github.com/)
[brown9804](https://github.com/brown9804)

Aug, 2022

----------

![image](https://github.com/brown9804/CenLog_LPath/assets/24630902/d81ef0a5-4b2c-45f5-b20e-c7c6940533e0)

## Wiki 

- Grafana - [OSS vs Cloud](https://grafana.com/oss-vs-cloud/), about the [products/stack](https://grafana.com/about/grafana-stack/)
- Grafana - [LGTM](https://github.com/grafana/#lgtm)
  - Loki, like Prometheus, but for logs.
  - Grafana, the open and composable observability and data visualization platform.
  - Tempo, a high volume, minimal dependency distributed tracing backend.
  - Mimir, the most scalable Prometheus backend.

- Grafana - [Install Grafana on macOS](https://grafana.com/docs/grafana/latest/setup-grafana/installation/mac/), and see tutorial of [How to Setup on Mac](https://www.youtube.com/watch?v=CYEpiVybM8c)
- Grafana - [Microsoft SQL Server data source](https://grafana.com/docs/grafana/latest/datasources/mssql/)
- Grafana - [How to setup all E2E in a VM](https://sandervandevelde.wordpress.com/2021/06/15/cloud-iot-dashboards-using-grafana-with-azure-iot/)
- Grafana - [How to access Azure SQL Server Database Tables from Grafana Cloud](https://learn.microsoft.com/en-us/answers/questions/464027/how-to-access-azure-sql-server-database-tables-fro), if access denied consider [inbound/outbound rules of NSG](https://www.oreilly.com/library/view/learn-microsoft-azure/9781789617580/5391a461-818b-440e-99fe-13c53310f743.xhtml) after adding vnet of grafana instance resource to vnet of data source.

![image](https://github.com/brown9804/CenLog_LPath/assets/24630902/defcb5a9-4292-4e46-ad9b-f46a0faf1079)

- Grafana - [How to make URL text as link](https://community.grafana.com/t/where-is-the-option-to-render-value-as-link-in-grafana-8-0/49232/1)
- Grafana - [How to change pie chart Color](https://community.grafana.com/t/how-to-change-pie-chart-color/43779/7)
- Grafana - [Creating Stacked Bar Charts on Grafana using data from SQL Server](https://community.grafana.com/t/creating-stacked-bar-charts-on-grafana-using-data-from-sql-server/8200), [Visualizing time series or multiple result sets](https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/bar-chart/#visualizing-time-series-or-multiple-result-sets)

![image](https://github.com/brown9804/CenLog_LPath/assets/24630902/725b41ac-6b85-4611-bb46-a89eed5d6543)

- Grafana - [Dynamic filtering using Grafana](https://community.grafana.com/t/dynamic-filtering-using-grafana/57649)
- Grafana - [How to Join columns from two different tables from sql database and present it as a single table in grafana](https://community.grafana.com/t/how-to-join-columns-from-two-different-tables-from-sql-database-and-present-it-as-a-single-table-in-grafana/76317/1)
- Grafana - [How to Concatenate Multiple Rows into One Column in MySQL](https://ubiq.co/database-blog/concatenate-multiple-rows-one-column-mysql/#:~:text=In%20this%20case%2C%20we%20use,multiple%20rows%20into%20one%20column.&text=GROUP_CONCAT%20concatenates%20all%20non%2Dnull,add%20DISTINCT%20in%20your%20query.)
  
## Grafana OSS Stack

| Product | Use | Pros | Cons | 
| --- |  --- |  --- |  --- | 
| [Grafana](https://grafana.com/oss/grafana/) | Grafana is the leading open source visualization and dashboarding platform that allows you to `query, visualize, alert on, and understand your data no matter where it’s stored.`    |  - **Customizable dashboards**: Grafana offers a wide range of customization options to create visually appealing and interactive dashboards that can be tailored to specific requirements. <br/> - **Integrations**: Grafana supports integration with various data sources, such as databases, cloud platforms, and monitoring tools, allowing for centralized monitoring and visualization of data from multiple sources. <br/> - **Community support**: As an open-source tool, Grafana has a large and active community of users and developers who contribute to its development, provide support, and share plugins and extensions. <br/> [reference](https://www.trustradius.com/products/grafana/reviews?qs=pros-and-cons#reviews)    |   - **Steep learning curve**: Grafana can be complex to set up and configure, especially for users who are new to monitoring and visualization tools. <br/> - **Limited data processing capabilities**: While Grafana excels in data visualization, it has limited data processing capabilities compared to dedicated data analysis tools. <br/> - **Limited alerting capabilities**: Although Grafana provides basic alerting functionalities, it may not be as comprehensive or advanced as specialized monitoring and alerting tools. <br/> [reference](https://www.softwareadvice.com/reporting-tools/grafana-profile/reviews/)   |
| [Grafana Loki](https://grafana.com/oss/loki/) | Loki is a horizontally scalable, highly available, multi-tenant `log aggregation system` using the same powerful data model as Prometheus.  |  1. Lightweight and efficient: Grafana Loki is designed to have a minimal footprint and efficient resource usage, making it suitable for resource-constrained environments. <br/> 2. Seamless integration with Grafana: Loki integrates seamlessly with Grafana, allowing users to easily create visualizations and dashboards using log data alongside other data sources. <br/> 3. Scalable and distributed architecture: Loki is built to handle high volumes of log data and can be scaled horizontally to accommodate growing needs. Its distributed architecture enables efficient querying and indexing for large-scale deployments. <br/> [reference](https://www.linkedin.com/pulse/why-you-should-using-loki-grafana-your-logging-needs-pankaj-salunkhe) | 1. Limited long-term log storage: Loki is primarily focused on indexing and querying recent log entries, which may not be suitable for long-term retention of log data. Additional solutions or archiving may be required for long-term storage needs. <br/> 2. Lack of advanced log analysis features: While Loki offers powerful log aggregation and indexing capabilities, it may not provide advanced log analysis features out of the box. Users may need to integrate Loki with other tools or build custom solutions for more advanced log analysis requirements. <br/> 3. Learning curve for new users: Getting started with Grafana Loki may require some learning and familiarization, especially for users new to the Grafana ecosystem or log aggregation in general. Users may need to invest time in understanding the concepts and configuration of Loki to effectively utilize its features. <br/> [reference](https://www.trustradius.com/products/grafana-loki/reviews?qs=pros-and-cons#reviews) | 
| [Grafana Mimir](https://grafana.com/oss/mimir/) | Mimir is the most `scalable open source metrics storage`. It lets you scale to 1 billion active series and beyond, with high availability, multi-tenancy, durable storage, and blazing fast query performance over long periods of time.   |  1. Scalability: Grafana Mimir is designed to handle large amounts of data and can scale to accommodate up to 1 billion active series and beyond. This allows for efficient storage and retrieval of metrics data, even over long periods of time. <br/> 2. High availability: With built-in high availability features, Grafana Mimir ensures that your metrics data remains accessible even in the event of hardware or network failures. This can help prevent data loss and ensure continuous monitoring and analysis. <br/> 3. Blazing fast query performance: Grafana Mimir is designed to deliver fast query performance, enabling users to quickly retrieve and analyze metrics data. This can be particularly useful when dealing with large datasets or when real-time insights are required. <br/> [reference](https://grafana.com/blog/2022/07/28/how-grafana-mimir-helped-pipedrive-overcome-prometheus-scalability-limits/) | 1. Complexity: As Grafana Mimir is a powerful and scalable metrics storage solution, it may come with a certain level of complexity in terms of setup, configuration, and maintenance. Users may require a certain level of technical expertise to effectively utilize the tool. <br/> 2. Learning curve: Due to its advanced capabilities, there may be a learning curve associated with using Grafana Mimir. Users may need to invest time and effort in understanding its features and best practices to fully leverage its potential. <br/> 3. Limited documentation and community support: Since Grafana Mimir is not widely known or documented, it may have limited resources available in terms of documentation, tutorials, and community support. This can make it challenging for users to find help or troubleshoot issues they may encounter. <br/> [reference](https://github.com/grafana/mimir/actions/runs/4849951707) | 
| [Grafana OnCall](https://grafana.com/oss/oncall/) | Grafana OnCall is an `easy-to-use on-call management tool` built to help teams improve their `collaboration and resolve incidents faster`.    |   1. Incident management: Grafana OnCall provides a comprehensive incident management system, allowing teams to effectively track, respond to, and resolve incidents. It offers features such as alerting, on-call scheduling, and collaboration tools, which can improve incident response times and overall team coordination. <br/> 2. Integration with Grafana ecosystem: Grafana OnCall seamlessly integrates with other Grafana products and services, such as Grafana Cloud and Grafana Enterprise, enabling a unified monitoring and observability experience. This integration can provide a streamlined workflow and better visibility into system health. <br/> 3. Customization and extensibility: Grafana OnCall offers flexibility for customization and extensibility. It allows users to configure and tailor incident management processes to their specific needs, supporting workflows, escalations, and integrations with external tools and systems. <br/> [reference](https://www.pcwdld.com/grafana-review/) | 1. Learning curve: Like any new tool, Grafana OnCall may have a learning curve associated with understanding its features and best practices. Users may need time to become familiar with the tool's interface, configuration options, and incident management concepts. <br/> 2. Limited third-party integrations: While Grafana OnCall integrates well with other Grafana products, it may have limited out-of-the-box integrations with third-party tools and services. This could require additional effort to set up custom integrations or workarounds to connect with existing monitoring or collaboration tools. <br/> 3. Pricing: While specific details may vary depending on the deployment model (self-hosted or cloud-based), Grafana OnCall may come with a cost. Organizations should consider the pricing structure and features offered to ensure it aligns with their budget and requirements. <br/> [reference](https://www.trustradius.com/products/grafana-oncall/reviews?qs=pros-and-cons#reviews) | 
| [Grafana Tempo](https://grafana.com/oss/tempo/) |   Grafana Tempo is a distributed tracing backend that lets you scale `tracing as far as possible` with minimal operational cost and less complexity than ever before.   |    1. High scalability: Grafana Tempo is designed to handle high volumes of tracing data with horizontal scalability. It uses a scalable, distributed storage architecture that allows for efficient storage and retrieval of trace data, even in large-scale environments. <br/> 2. Cost-effective: Tempo leverages object storage for long-term trace storage, which can be more cost-effective compared to traditional storage solutions. This allows organizations to store and retain large amounts of tracing data without incurring significant infrastructure costs. <br/> 3. Seamless integration with other observability tools: Grafana Tempo integrates well with other observability tools, such as Grafana and Prometheus. This integration allows for a unified observability experience, enabling users to correlate and analyze tracing data alongside other metrics and logs. <br/> [reference](https://dev.to/gpiechnik/better-monitoring-of-traces-with-grafana-tempo-4g0p) | 1. Limited features compared to other tracing solutions: While Grafana Tempo provides essential tracing functionality, it may have fewer advanced features compared to more mature and feature-rich tracing solutions. Organizations with specific requirements or use cases may need to evaluate if Tempo meets their needs adequately. <br/> 2. Complexity of setup and maintenance: Setting up and maintaining a distributed tracing system like Grafana Tempo can be complex, especially for organizations without prior experience in distributed systems. It may require careful planning, configuration, and ongoing management to ensure optimal performance and reliability. <br/> 3. Learning curve: Like any tracing solution, Grafana Tempo may have a learning curve associated with understanding its features, instrumentation, and best practices. Users may need to invest time and effort in learning how to effectively use Tempo and integrate it into their existing observability workflows. <br/> [reference](https://www.infracloud.io/blogs/tracing-grafana-tempo-jaeger/) |
| [Grafana Agent](https://grafana.com/oss/agent/) | Grafana Agent is a `telemetry collector` for sending `metrics, logs, and trace` data to the opinionated Grafana observability stack.    |   1. Simplified Metrics Collection: Grafana Agent simplifies the process of collecting and forwarding metrics data to Grafana Cloud or other Prometheus-compatible monitoring systems. It provides a unified agent that can collect metrics from various sources, such as system-level metrics, Docker stats, and SNMP, making it easier to set up and manage metric collection. <br/> 2. Improved Resource Efficiency: Grafana Agent is designed to be lightweight and resource-efficient. It uses the Prometheus remote write protocol to efficiently send metrics data to the backend system, reducing the network and storage overhead. This can help optimize resource utilization, especially in environments with limited resources or high scalability requirements. <br/> 3. Integration with Grafana Cloud: Grafana Agent seamlessly integrates with Grafana Cloud, allowing for a streamlined monitoring and observability experience. It simplifies the process of connecting your infrastructure with Grafana Cloud, enabling easy metric collection, visualization, and alerting. <br/> [reference](https://www.youtube.com/watch?v=i0mA0w_MCPQ) | 1. Limited Compatibility: While Grafana Agent is designed to work well with Grafana Cloud and Prometheus-compatible systems, it may have limited compatibility with other monitoring systems or custom setups. Organizations using non-Prometheus-based monitoring solutions may need to explore alternative agents or adapt their configurations to work with Grafana Agent. <br/> 2. Learning Curve: Like any new tool, Grafana Agent may have a learning curve associated with understanding its configuration options, integration requirements, and best practices. Users may need to invest time in learning how to effectively set up and configure the agent to meet their specific monitoring needs. <br/> 3. Dependency on External Backend: Grafana Agent relies on a backend system, such as Grafana Cloud or a Prometheus-compatible monitoring system, to store and analyze metrics data. This dependency means that the availability and performance of the backend system can impact the overall monitoring experience. <br/> [reference](https://github.com/grafana/agent/issues/1914) |
| [Grafana k6](https://k6.io/)  | k6 is a developer-centric, extensible `performance testing tool` built to be intuitive, flexible, and powerful.    |    1. Integrated Performance Testing: Grafana k6 combines the k6 load testing tool with Grafana's visualization and monitoring capabilities, making it easy to design and execute performance tests and visualize results. <br/> 2. Scalability and Flexibility: k6 is known for its scalability and flexibility, supporting JavaScript scripting, realistic user behavior simulation, and horizontal scaling for handling high loads. <br/> [reference](https://www.trustradius.com/products/k6-load-testing-tool/reviews?qs=pros-and-cons#reviews) | 1. Learning Curve: Grafana k6 may have a learning curve, particularly for those new to load testing or JavaScript scripting. <br/> 2. Limited Advanced Features: Compared to dedicated load testing tools, Grafana k6 may have fewer advanced features, potentially requiring additional tools for specific requirements. <br/> 3. Resource Intensive: Load testing can be resource-intensive, necessitating sufficient compute resources for simulating high loads and running tests for extended durations. <br/> [reference](https://dilumpathi.medium.com/performance-testing-with-k6-6985f74b5a51) |
| [Prometheus](https://grafana.com/oss/prometheus/) | Prometheus is an open source `monitoring system` developed. Prometheus is the de facto standard for `metrics-based observability` in `cloud native environments` and for `Kubernetes`   |  1. Powerful Metrics Collection: Prometheus excels at collecting and storing time-series data, making it a robust solution for monitoring and observability. It offers a flexible query language, PromQL, for analyzing and visualizing metrics, enabling deep insights into system performance. <br/> 2. Scalability and Federation: Prometheus is designed to scale horizontally, allowing users to handle high volumes of metrics data efficiently. It also supports federation, enabling multiple Prometheus instances to be combined into a federated cluster, providing a unified view of metrics across different environments. <br/> [reference](https://www.crybit.com/advantages-of-prometheus/) | 1. Resource Intensive: Running Prometheus requires sufficient compute resources, especially for storing and processing large amounts of metrics data. Organizations need to ensure they have adequate storage and processing capacity to handle the anticipated workload. <br/> 2. Lack of Long-Term Storage: By default, Prometheus stores metrics data in a local time-series database, which has limited retention capabilities. For long-term storage, users need to rely on external systems or integrate Prometheus with long-term storage solutions like Thanos. <br/> 3. Complex Configuration and Management: Setting up and configuring Prometheus can be complex, requiring expertise in metrics instrumentation, service discovery, and alerting rules. Organizations may need dedicated resources or specialized knowledge to effectively manage Prometheus deployments. <br/> [reference](https://stackshare.io/prometheus) | 
| [Grafana Faro](https://grafana.com/oss/faro/) |  Grafana Faro is a project for `frontend application observability`. It includes a highly configurable web SDK that `instruments browser frontend applications to capture observability signals`, so you can monitor web application performance, discover frontend errors, and perform real user monitoring (RUM) while respecting their privacy.   |  1. Comprehensive Frontend Observability: Grafana Faro offers a comprehensive solution for frontend application observability, allowing you to capture observability signals, monitor performance, identify frontend errors, and perform real user monitoring (RUM) in a highly configurable manner. <br/> 2. Privacy-Respecting Approach: Grafana Faro emphasizes privacy by design, ensuring that user data is handled with care and respecting privacy regulations. This is crucial when monitoring web application performance and collecting user data. <br/> [reference](https://www.youtube.com/watch?v=NDqmW9kmIy8) | 1. Limited Adoption and Ecosystem: As Grafana Faro may be a less widely known or established project compared to other frontend observability tools, it may have a smaller community and ecosystem. This could result in fewer integrations, plugins, or community support. <br/> 2. Learning Curve and Implementation Complexity: Implementing and configuring Grafana Faro may require some learning and expertise, particularly in instrumenting browser frontend applications. Organizations may need to invest time and resources to effectively utilize the tool. <br/> [reference](https://github.com/grafana/faro-web-sdk) | 
| [Grafana Pyroscope](https://grafana.com/oss/pyroscope/) |   Grafana Pyroscope is an open source continuous `profiling tool` that provides `insights into resource usage to optimize application performance`.   |  1. Efficient Profiling: Grafana Pyroscope provides efficient profiling for applications, enabling developers to understand where code bottlenecks and performance issues occur. It helps optimize application performance by identifying areas that require improvement. <br/> 2. Easy Integration with Grafana: As a Grafana plugin, Pyroscope seamlessly integrates with Grafana's visualization and monitoring features. This allows for easy visualization and analysis of profiling data alongside other metrics, providing a comprehensive monitoring solution. <br/>  [reference](https://www.youtube.com/watch?v=YZ3B2aSmA9o) | 1. Limited Language Support: Grafana Pyroscope primarily focuses on profiling applications written in Go and Ruby. While it can be extended to support other languages, it may have limited built-in support for profiling applications written in languages other than Go and Ruby. <br/>  2. Additional Overhead: Profiling applications with Grafana Pyroscope adds additional overhead to the application, impacting its performance. Care should be taken to ensure that the added overhead does not significantly affect the application's behavior or user experience. <br/> [reference](https://www.linkedin.com/pulse/beyond-metrics-logs-traces-embracing-continuous-profiling-ward-bekker) | 
| [Grafana Beyla](https://grafana.com/oss/beyla-ebpf/)  |   Beyla is an open source `eBPF auto-instrumentation tool` that is now in public preview. It `reports span information` for basic transactions as well as `RED metrics (Rate-Errors-Duration)` for both `Linux HTTP/S and gRPC services` — all without requiring any code modification.   |  1. Automatic Instrumentation: Grafana Beyla offers automatic eBPF-based instrumentation for Linux HTTP/S and gRPC services. This eliminates the need for manual code modification, making it easier to add observability to your applications. <br/> 2. Transaction Visibility: Beyla provides span information for basic transactions, allowing you to understand the flow and performance of requests within your services. This visibility helps in identifying bottlenecks and optimizing application performance. <br/>  [reference](https://www.youtube.com/watch?v=PtkbkMmtYnM) | 1. Limited Service Support: Grafana Beyla currently focuses on Linux HTTP/S and gRPC services. If you have applications running on other platforms or using different protocols, Beyla may not provide the same level of instrumentation and visibility. <br/> 2. Public Preview Limitations: As Beyla is in public preview, it may have some limitations or potential bugs that are being actively worked on. It's important to consider these limitations and evaluate the tool's stability and suitability for production environments. <br/> [reference](https://medium.com/@xsizxenjin/reviewing-ebpf-based-auto-instrumentation-with-grafana-beyla-7b8abd6cedd7) |
| [Grafana Tanka](https://grafana.com/oss/tanka/) |   Grafana Tanka is the `robust configuration utility for your Kubernetes cluster`, powered by the Jsonnet language.   |    1. Grafana Tanka provides a declarative approach to managing Kubernetes resources, making it easier to define and maintain infrastructure configurations. <br/> 2. It offers a simplified and intuitive syntax, allowing users to express complex Kubernetes configurations in a concise manner. <br/> 3. Grafana Tanka integrates seamlessly with other tools in the Grafana ecosystem, such as Prometheus, enabling efficient monitoring and observability of the Kubernetes environment. <br/> [reference](https://www.reddit.com/r/kubernetes/comments/tvl5qh/grafana_labs_tanka_is_awesome/) | 1. Tanka has a steeper learning curve for beginners due to its unique syntax and approach to Kubernetes configuration management. <br/> 2. It may not be suitable for small-scale deployments or simple use cases, as its benefits are more pronounced in complex and large-scale Kubernetes environments. <br/> 3. The available documentation and community support for Grafana Tanka may be relatively limited compared to other popular Kubernetes configuration management tools. <br/>  [reference](https://www.innablr.com.au/blog/what-is-grafana-tanka-and-how-does-it-compare-to-kustomize-helm) | 
| [Graphite](https://grafana.com/oss/graphite/) |   Graphite is a `scalable monitoring system for time series data`.    |   1. Grafana Graphite provides a scalable and efficient solution for storing and analyzing time-series data, making it ideal for monitoring and observability use cases. <br/> 2. It offers a wide range of visualization options and features in Grafana, allowing users to create interactive and customizable dashboards for data analysis and exploration. <br/> 3. Grafana Graphite has a large and active user community, which means there is extensive documentation, support, and a wide range of plugins available to enhance its functionality. <br/> [reference](https://coralogix.com/blog/grafana-vs-graphite/) | 1. Setting up and managing a Graphite infrastructure can be complex and resource-intensive, requiring expertise in data storage, maintenance, and optimization. <br/> 2. Graphite's query language can be less intuitive and more challenging to learn compared to other time-series databases, which may hinder adoption for users unfamiliar with the technology. <br/> 3. While Graphite is a mature and reliable solution, it may not be the best choice for high-frequency data ingestion or real-time analytics due to its storage and processing limitations. <br/> [reference](https://www.quora.com/What-is-your-review-of-Graphite-software)  |
| [OpenTelemetry](https://grafana.com/oss/opentelemetry/) |  OpenTelemetry is a `collection of tools, APIs, and SDKs` to instrument, generate, collect, and export telemetry data, in order to `analyze software performance and behavior`    |   1. OpenTelemetry provides a standardized and vendor-neutral approach to observability, allowing for seamless instrumentation, collection, and analysis of telemetry data across different systems and languages. <br/> 2. It offers a flexible and extensible architecture, enabling developers to easily integrate it into existing applications and frameworks, and customize it to meet specific monitoring and tracing requirements. <br/> 3. OpenTelemetry has a growing and active community, ensuring continuous development, support, and the availability of plugins and integrations with popular observability tools and platforms. <br/> [reference](https://medium.com/opentelemetry/opentelemetry-beyond-getting-started-5ac43cd0fe26) | 1. Implementing OpenTelemetry can require additional development effort and resources, especially for applications that are not already instrumented or do not have built-in support for OpenTelemetry. <br/> 2. The complexity of OpenTelemetry's architecture and configuration options can make it challenging for beginners or teams without prior experience in observability to set up and use effectively. <br/> 3. As a relatively new and evolving project, OpenTelemetry may have limited documentation and community support compared to more established observability solutions, which can impact troubleshooting and adoption. <br/> [reference](https://www.fusion-reactor.com/blog/what-is-opentelemetry-and-why-should-you-care/) |

## Troubleshooting

- [Status: 500. Message: db query error: mssql: Incorrect syntax near '-'.](https://github.com/grafana/grafana/issues/71816)
